---
import type { A11YChecklist } from '@d-zero/a11y-checklist';

import a11YChecklist from '@d-zero/a11y-checklist/json';

import Hint from '@/components/Hint.svelte';
import Layout from '@/layouts/Layout.astro';
import { autocheck } from '@/libs/autocheck';

/**
 * およそのチェック項目の合計数
 */
const TOTAL = 208;
---

<Layout title="アクセシビリティチェックリスト | 株式会社ディーゼロ" isHome wide>
	<table
		class="border-collapse mt-16 w-full [&_th]:border-2 [&_th]:p-2 [&_td]:border-2 [&_td]:p-2">
		<thead>
			<tr>
				<th>ID</th>
				<th>内容</th>
				<th>
					<div class="flex place-items-center">
						<span class="mr-1">遵守度</span>
						<Hint client:idle name="遵守度とは"
							>ディーゼロ社の規定遵守度です。WCAGの適合レベルとは相関はありません。</Hint
						>
					</div>
				</th>
				<th>自動チェック</th>
			</tr>
		</thead>
		<tbody>
			{
				(a11YChecklist as A11YChecklist).map((item) => (
					<tr>
						<th class="text-left">
							<a href={`ids/${item.id?.toLowerCase()}`}>{item.id}</a>
						</th>
						<td>
							<a
								href={item.id?.toLowerCase()}
								data-astro-prefetch
								class="text-blue-700 underline underline-offset-4">
								{item.title}
							</a>
						</td>
						<td>
							{/* <a href={`levels/${item.level?.toLowerCase()}`}>{item.level}</a> */}
							{item.level}
						</td>
						<td>{autocheck[item.autocheck]}</td>
					</tr>
				))
			}
		</tbody>
	</table>
	<div class="mt-8 text-center">
		<p><strong>現在項目追加中</strong></p>
		<p>
			未登録の残り: {TOTAL - a11YChecklist.length}項目
		</p>
	</div>
</Layout>
